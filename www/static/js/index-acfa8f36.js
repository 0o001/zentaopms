var j=Object.defineProperty;var I=Object.getOwnPropertySymbols;var H=Object.prototype.hasOwnProperty,J=Object.prototype.propertyIsEnumerable;var D=(l,e,a)=>e in l?j(l,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):l[e]=a,E=(l,e)=>{for(var a in e||(e={}))H.call(e,a)&&D(l,a,e[a]);if(I)for(var a of I(e))J.call(e,a)&&D(l,a,e[a]);return l};import{_ as P}from"./SizeSetting.vue_vue_type_style_index_0_scoped_true_lang-cd4ff293.js";import{S as k}from"./SettingItemBox-5f180e77.js";import{u as L,l as G}from"./chartEditStore-16ef03cd.js";import{d as C,r,o as c,c as x,w as n,z as $,n as B,e as t,j as q,m as h,p as U,t as K,aJ as M,a3 as Q,a5 as W,f as u,aa as X,F as S,A as V}from"./index.js";import{i as Y}from"./icon-7c84be6c.js";import"./plugin-da57b897.js";const Z=C({__name:"index",props:{name:{type:String,required:!0},expanded:{type:Boolean,required:!0,default:!1}},setup(l){const e=l,a=i=>{i.preventDefault(),i.stopPropagation()};return(i,_)=>{const g=r("n-collapse-item"),m=r("n-collapse");return c(),x(m,{"arrow-placement":"right","expanded-names":e.expanded?e.name:null,accordion:""},{"header-extra":n(()=>[$("div",{onClick:a},[B(i.$slots,"header")])]),default:n(()=>[t(g,{title:e.name,name:e.name},{default:n(()=>[B(i.$slots,"default")]),_:3},8,["title","name"])]),_:3},8,["expanded-names"])}}});const ee={class:"go-config-item-box"},te=C({__name:"index",props:{name:{type:String,required:!1},alone:{type:Boolean,default:!1,required:!1},itemRightStyle:{type:Object,default:()=>{},required:!1}},setup(l){return(e,a)=>{const i=r("n-text");return c(),h("div",ee,[t(i,{class:"item-left",depth:"2"},{default:n(()=>[U(K(l.name)+" ",1),B(e.$slots,"name",{},void 0,!0)]),_:3}),$("div",{class:"item-right",style:M(E({gridTemplateColumns:l.alone?"1fr":"1fr 1fr"},l.itemRightStyle))},[B(e.$slots,"default",{},void 0,!0)],4)])}}});var ne=q(te,[["__scopeId","data-v-61259120"]]);const ae=C({__name:"index",props:{filter:{type:Object,required:!0},remove:{type:Function},idx:{type:Number,required:!0}},setup(l){const e=l,{RemoveIcon:a}=Y.ionicons5,{remove:i}=Q(e),_={margin:"12px 0"},g=p=>!e.filter.name||e.filter.name.length==0?"\u7B5B\u9009\u5668 - \u672A\u547D\u540D"+p:"\u7B5B\u9009\u5668 - "+e.filter.name,m=L(),F=W(()=>m.getComponentList.filter(d=>d.chartConfig.sourceID&&d.chartConfig.fields).map(d=>d.chartConfig).map(d=>{const y=[];for(const b in d.fields){const v=d.fields[b];y.push({value:v.field,label:v.name})}const f="diagram-"+d.sourceID;return{key:f,name:d.title,fields:y,expanded:e.filter.diagramIds.includes(f)}}));return(p,s)=>{const d=r("n-icon"),y=r("n-button"),f=r("n-select"),b=r("n-tree-select"),v=r("n-input"),N=r("n-checkbox"),z=r("n-gi"),w=r("n-grid"),A=r("n-checkbox-group"),O=r("n-space"),R=r("n-card");return c(),x(R,{title:g(e.idx),size:"small"},{"header-extra":n(()=>[t(y,{quaternary:"",title:"\u79FB\u9664",onClick:u(i)},{default:n(()=>[t(d,{size:"20"},{default:n(()=>[t(u(a))]),_:1})]),_:1},8,["onClick"])]),default:n(()=>[t(u(k),{name:"\u7C7B\u578B",alone:!0,itemBoxStyle:_},{default:n(()=>[t(f,{value:e.filter.type,"onUpdate:value":s[0]||(s[0]=o=>e.filter.type=o),options:e.filter.typeOptions,size:"small"},null,8,["value","options"])]),_:1}),e.filter.type===u(G).SELECT?(c(),x(u(k),{key:0,name:"\u7B5B\u9009\u503C",alone:!0,itemBoxStyle:_},{default:n(()=>[t(b,{options:e.filter.fieldOptions,value:e.filter.field,"onUpdate:value":s[1]||(s[1]=o=>e.filter.field=o),size:"small"},null,8,["options","value"])]),_:1})):X("",!0),t(u(k),{name:"\u540D\u79F0",alone:!0,itemBoxStyle:_},{default:n(()=>[t(v,{value:e.filter.name,"onUpdate:value":s[2]||(s[2]=o=>e.filter.name=o),size:"small",maxlength:"6",minlength:"1","show-count":"",placeholder:"\u8BF7\u8F93\u5165\u540D\u79F0"},null,8,["value"])]),_:1}),t(u(k),{name:"\u9ED8\u8BA4\u503C",alone:!0,itemBoxStyle:_},{default:n(()=>[t(v,{value:e.filter.defaultValue,"onUpdate:value":s[3]||(s[3]=o=>e.filter.defaultValue=o),size:"small"},null,8,["value"])]),_:1}),t(u(P),{name:"\u5173\u8054\u56FE\u8868",expanded:!0},{default:n(()=>[t(O,{vertical:"",size:[0,10]},{default:n(()=>[t(A,{value:e.filter.diagramIds,"onUpdate:value":s[4]||(s[4]=o=>e.filter.diagramIds=o)},{default:n(()=>[(c(!0),h(S,null,V(u(F),(o,le)=>(c(),x(w,{key:o.key,"x-gap":"12",cols:12},{default:n(()=>[t(z,{span:1},{default:n(()=>[t(N,{value:o.key},null,8,["value"])]),_:2},1024),t(z,{span:11},{default:n(()=>[t(u(Z),{name:o.name,expanded:e.filter.diagramIds.includes(o.key)},{default:n(()=>[t(u(ne),{name:"\u5173\u8054\u5B57\u6BB5",alone:!0},{default:n(()=>[t(f,{value:e.filter.diagramFields[o.key],"onUpdate:value":T=>e.filter.diagramFields[o.key]=T,options:o.fields,size:"small"},null,8,["value","onUpdate:value","options"])]),_:2},1024)]),_:2},1032,["name","expanded"])]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["value"])]),_:1})]),_:1})]),_:1},8,["title"])}}});const oe=C({__name:"index",setup(l){const e=L(),a=()=>{e.addFilterList()},i=_=>{e.removeFilter(_)};return(_,g)=>{const m=r("n-button"),F=r("n-space");return c(),h(S,null,[t(m,{class:"btn-add",type:"info",onClick:a},{default:n(()=>[U(" + \u6DFB\u52A0 ")]),_:1}),t(F,{size:[0,10]},{default:n(()=>[(c(!0),h(S,null,V(u(e).getFilters,(p,s)=>(c(),x(u(ae),{key:p.key,idx:s+1,filter:p,remove:()=>i(p.key)},null,8,["idx","filter","remove"]))),128))]),_:1})],64)}}});var pe=q(oe,[["__scopeId","data-v-4274ce7e"]]);export{pe as default};
