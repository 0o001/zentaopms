var E=(e,t,a)=>new Promise((o,s)=>{var i=n=>{try{c(a.next(n))}catch(r){s(r)}},p=n=>{try{c(a.throw(n))}catch(r){s(r)}},c=n=>n.done?o(n.value):Promise.resolve(n.value).then(i,p);c((a=a.apply(e,t)).next())});import{M as F}from"./index-10cc065c.js";import{_ as K}from"./index-a4c4df4f.js";import{u as T,i as x}from"./chartEditStore-066de5d6.js";import{u as $,a as b}from"./chartLayoutStore-da26a299.js";import{cp as k,cq as A,cr as I,cs as N,a as R,ct as M,cu as G,cv as P,cw as U,c as H,d as V,l as q,R as Y,N as z,av as J,r as O,o as g,e as h,q as _,F as Q,s as W,g as l,u as d,w as m,h as S,t as D,ao as X,cx as Z,c8 as j}from"./index-ed17d07a.js";import{a as tt,b as et,l as at}from"./plugin-15ab4596.js";import{c as f}from"./index-74a6a17b.js";import{f as L,b as w,c as nt}from"./index-6be04ae3.js";import"./icon-c5f6d281.js";import"./index-2b34b930.js";import"./theme-color-42133380.js";import"./table_scrollboard-3d700369.js";import"./GlobalSetting.vue_vue_type_style_index_0_scoped_true_lang-e23277d4.js";import"./useTargetData.hook-796669c2.js";function st(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var rt=st;function ot(e,t,a){var o=-1,s=e.length;t<0&&(t=-t>s?0:s+t),a=a>s?s:a,a<0&&(a+=s),s=t>a?0:a-t>>>0,t>>>=0;for(var i=Array(s);++o<s;)i[o]=e[o+t];return i}var it=ot,lt=k,ct=it;function ut(e,t){return t.length<2?e:lt(e,ct(t,0,-1))}var _t=ut,dt=A,mt=rt,ft=_t,pt=I;function gt(e,t){return t=dt(t,e),e=ft(e,t),e==null||delete e[pt(mt(t))]}var ht=gt,vt=N;function Ct(e){return vt(e)?void 0:e}var yt=Ct,Et=R,xt=U,bt=ht,Ot=A,St=M,Dt=yt,Lt=G,wt=P,At=1,Bt=2,Ft=4,Kt=Lt(function(e,t){var a={};if(e==null)return a;var o=!1;t=Et(t,function(i){return i=Ot(i,e),o||(o=i.length>1),i}),St(e,wt(e),a),o&&(a=xt(a,At|Bt|Ft,Dt));for(var s=t.length;s--;)bt(a,t[s]);return a}),Tt=Kt;const $t={class:"go-content-charts-item-animation-patch"},kt=["onDragstart","onDblclick"],It={class:"list-header"},Nt={class:"list-center go-flex-center go-transition"},Rt={class:"list-bottom"},Mt=V({__name:"index",props:{menuOptions:{type:Array,default:()=>[]}},setup(e){const t=T(),a=$(),o=q(),s=Y(()=>a.getChartType),i=(n,r)=>{f(r.chartKey,L(r)),f(r.conKey,w(r)),n.dataTransfer.setData(Z.DRAG_KEY,j(Tt(r,["image"]))),t.setEditCanvas(x.IS_CREATE,!0)},p=()=>{t.setEditCanvas(x.IS_CREATE,!1)},c=n=>E(this,null,function*(){try{tt(),f(n.chartKey,L(n)),f(n.conKey,w(n));let r=yield nt(n);t.addComponentList(r,!1,!0),t.setTargetSelectChart(r.id),et()}catch(r){at(),window.$message.warning("\u56FE\u8868\u6B63\u5728\u7814\u53D1\u4E2D, \u656C\u8BF7\u671F\u5F85...")}});return z(()=>s.value,n=>{n===b.DOUBLE&&J(()=>{o.value.classList.add("miniAnimation")})}),(n,r)=>{const v=O("n-ellipsis"),C=O("n-text");return g(),h("div",$t,[_("div",{ref_key:"contentChartsItemBoxRef",ref:o,class:X(["go-content-charts-item-box",[d(s)===d(b).DOUBLE?"double":"single"]])},[(g(!0),h(Q,null,W(e.menuOptions,(u,B)=>(g(),h("div",{class:"item-box",key:B,draggable:"",onDragstart:y=>i(y,u),onDragend:p,onDblclick:y=>c(u)},[_("div",It,[l(d(F),{class:"list-header-control-btn",mini:!0,disabled:!0}),l(C,{class:"list-header-text",depth:"3"},{default:m(()=>[l(v,null,{default:m(()=>[S(D(u.title),1)]),_:2},1024)]),_:2},1024)]),_("div",Nt,[l(d(K),{class:"list-img",chartConfig:u},null,8,["chartConfig"])]),_("div",Rt,[l(C,{class:"list-bottom-text",depth:"3"},{default:m(()=>[l(v,{style:{"max-width":"90%"}},{default:m(()=>[S(D(u.title),1)]),_:2},1024)]),_:2},1024)])],40,kt))),128))],2)])}}});var ee=H(Mt,[["__scopeId","data-v-10c59b1b"]]);export{ee as default};
