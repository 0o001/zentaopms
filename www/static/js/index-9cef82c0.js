import{as as t,aa as o,l as M,at as C,au as B,av as U,c as V,d as F,r as E,e as N,q as O,g as s,w as y,u as a,F as G,o as K,O as d}from"./index-ed17d07a.js";import{l as _}from"./index-74a6a17b.js";import{_ as $}from"./index-4223be11.js";import{u as I,a as j}from"./chartEditStore-066de5d6.js";import{l as z}from"./plugin-15ab4596.js";import{i as b}from"./icon-c5f6d281.js";const{CopyIcon:W,CutIcon:Y,ClipboardOutlineIcon:q,TrashIcon:X,ChevronDownIcon:J,ChevronUpIcon:Q,LockOpenOutlineIcon:Z,LockClosedOutlineIcon:ee,EyeOutlineIcon:te,EyeOffOutlineIcon:ne}=b.ionicons5,{UpToTopIcon:oe,DownToBottomIcon:ae,PaintBrushIcon:le,Carbon3DSoftwareIcon:ie,Carbon3DCursorIcon:re}=b.carbon,e=I(),k=(n=3)=>({type:"divider",key:`d${n}`}),f=[{label:"\u9501\u5B9A",key:t.LOCK,icon:o(ee),fnHandle:e.setLock},{label:"\u89E3\u9501",key:t.UNLOCK,icon:o(Z),fnHandle:e.setUnLock},{label:"\u9690\u85CF",key:t.HIDE,icon:o(ne),fnHandle:e.setHide},{label:"\u663E\u793A",key:t.SHOW,icon:o(te),fnHandle:e.setShow},{type:"divider",key:"d0"},{label:"\u590D\u5236",key:t.COPY,icon:o(W),fnHandle:e.setCopy},{label:"\u526A\u5207",key:t.CUT,icon:o(Y),fnHandle:e.setCut},{label:"\u7C98\u8D34",key:t.PARSE,icon:o(q),fnHandle:e.setParse},{type:"divider",key:"d1"},{label:"\u7F6E\u9876",key:t.TOP,icon:o(oe),fnHandle:e.setTop},{label:"\u7F6E\u5E95",key:t.BOTTOM,icon:o(ae),fnHandle:e.setBottom},{label:"\u4E0A\u79FB",key:t.UP,icon:o(Q),fnHandle:e.setUp},{label:"\u4E0B\u79FB",key:t.DOWN,icon:o(J),fnHandle:e.setDown},{type:"divider",key:"d2"},{label:"\u6E05\u7A7A\u526A\u8D34\u677F",key:t.CLEAR,icon:o(le),fnHandle:e.setRecordChart},{label:"\u5220\u9664",key:t.DELETE,icon:o(X),fnHandle:e.removeComponentList}],m=[{label:"\u521B\u5EFA\u5206\u7EC4",key:t.GROUP,icon:o(ie),fnHandle:e.setGroup},{label:"\u89E3\u9664\u5206\u7EC4",key:t.UN_GROUP,icon:o(re),fnHandle:e.setUnGroup}],ue=[t.PARSE,t.CLEAR],S=(n,l)=>{if(!l)return n;const i=[];return l.forEach(c=>{i.push(...n.filter(r=>r.key===c))}),i},se=(n,l)=>l?n.filter(i=>l.findIndex(c=>c!==i.key)!==-1):n,u=M([]),ce=(n,l,i,c,r)=>{n.stopPropagation(),n.preventDefault();let p=n.target;for(;p instanceof SVGElement;)p=p.parentNode;e.setTargetSelectChart(l&&l.id),e.setRightMenuShow(!1),e.getTargetChart.selectId.length>1?u.value=m:u.value=f,l||(u.value=S(C(u.value),ue)),c&&(u.value=se([...m,k(),...f],c)),r&&(u.value=S([...m,k(),...f],r)),i&&(u.value=i(B(C(u.value)),[...m,...f],l)),U().then(()=>{e.setMousePosition(n.clientX,n.clientY),e.setRightMenuShow(!0)})},de=()=>(u.value=f,{menuOptions:u,defaultOptions:f,defaultMultiSelectOptions:m,handleContextMenu:ce,onClickOutSide:()=>{e.setRightMenuShow(!1)},handleMenuSelect:i=>{e.setRightMenuShow(!1);const c=u.value.filter(r=>r.key===i);u.value.forEach(r=>{if(r.key===i){if(r.fnHandle){r.fnHandle();return}c||z()}})},mousePosition:e.getMousePosition});const _e={class:"go-chart"},fe={style:{overflow:"hidden",display:"flex"}},pe=F({__name:"index",setup(n){const l=j(),i=I();l.canvasInit(i.getEditCanvas);const c=_(()=>d(()=>import("./index-4a08c1ed.js"),["static/js/index-4a08c1ed.js","static/css/index-fe09f39d.css","static/js/index-ed17d07a.js","static/css/index-bd4452ef.css","static/js/plugin-15ab4596.js","static/js/icon-c5f6d281.js","static/js/useKeyboard.hook-99fa5929.js","static/js/chartEditStore-066de5d6.js","static/js/chartLayoutStore-da26a299.js"])),r=_(()=>d(()=>import("./index-6c0cff29.js"),["static/js/index-6c0cff29.js","static/css/index-a1981d3a.css","static/js/index-ed17d07a.js","static/css/index-bd4452ef.css","static/js/plugin-15ab4596.js","static/js/icon-c5f6d281.js","static/js/chartEditStore-066de5d6.js"])),p=_(()=>d(()=>import("./index-525aad6d.js"),["static/js/index-525aad6d.js","static/css/index-39a6e6f0.css","static/js/index-ed17d07a.js","static/css/index-bd4452ef.css","static/js/icon-c5f6d281.js","static/js/chartEditStore-066de5d6.js","static/js/plugin-15ab4596.js"])),g=_(()=>d(()=>import("./index-50d172bf.js"),["static/js/index-50d172bf.js","static/css/index-43917ffd.css","static/js/index-ed17d07a.js","static/css/index-bd4452ef.css","static/js/index-2b34b930.js","static/css/index-564a38cf.css","static/js/icon-c5f6d281.js","static/js/chartLayoutStore-da26a299.js","static/js/chartEditStore-066de5d6.js","static/js/plugin-15ab4596.js","static/js/index-6be04ae3.js","static/css/index-e7a8bf20.css","static/js/table_scrollboard-3d700369.js","static/js/GlobalSetting.vue_vue_type_style_index_0_scoped_true_lang-e23277d4.js","static/css/GlobalSetting.vue_vue_type_style_index_0_scoped_true_lang-42634a6e.css","static/js/useTargetData.hook-796669c2.js","static/js/index-74a6a17b.js","static/css/index-eea2fa9f.css","static/js/theme-color-42133380.js","static/js/index-4223be11.js","static/css/index-e4d7ba33.css"])),H=_(()=>d(()=>import("./index-a4c4df4f.js").then(function(v){return v.i}),["static/js/index-a4c4df4f.js","static/css/index-64249a0d.css","static/js/index-ed17d07a.js","static/css/index-bd4452ef.css","static/js/index-2b34b930.js","static/css/index-564a38cf.css","static/js/icon-c5f6d281.js","static/js/index-74a6a17b.js","static/css/index-eea2fa9f.css","static/js/theme-color-42133380.js","static/js/plugin-15ab4596.js","static/js/index-6be04ae3.js","static/css/index-e7a8bf20.css","static/js/table_scrollboard-3d700369.js","static/js/chartEditStore-066de5d6.js","static/js/GlobalSetting.vue_vue_type_style_index_0_scoped_true_lang-e23277d4.js","static/css/GlobalSetting.vue_vue_type_style_index_0_scoped_true_lang-42634a6e.css","static/js/useTargetData.hook-796669c2.js","static/js/chartLayoutStore-da26a299.js"])),P=_(()=>d(()=>import("./index-af7814e1.js"),["static/js/index-af7814e1.js","static/css/index-15f79d32.css","static/js/index-ed17d07a.js","static/css/index-bd4452ef.css","static/js/index-74a6a17b.js","static/css/index-eea2fa9f.css","static/js/icon-c5f6d281.js","static/js/theme-color-42133380.js","static/js/index-2b34b930.js","static/css/index-564a38cf.css","static/js/chartLayoutStore-da26a299.js","static/js/chartEditStore-066de5d6.js","static/js/plugin-15ab4596.js"])),T=_(()=>d(()=>import("./index-6c14df0d.js"),["static/js/index-6c14df0d.js","static/js/chartLayoutStore-da26a299.js","static/js/index-ed17d07a.js","static/css/index-bd4452ef.css","static/js/chartEditStore-066de5d6.js","static/js/plugin-15ab4596.js","static/js/icon-c5f6d281.js"])),{menuOptions:R,onClickOutSide:w,mousePosition:h,handleMenuSelect:A}=de();return(v,me)=>{const D=E("n-layout-content"),x=E("n-layout"),L=E("n-dropdown");return K(),N(G,null,[O("div",_e,[s(x,null,{default:y(()=>[s(a($),null,{left:y(()=>[s(a(c))]),center:y(()=>[s(a(p))]),"ri-left":y(()=>[s(a(r))]),_:1}),s(D,{"content-style":"overflow:hidden; display: flex"},{default:y(()=>[O("div",fe,[s(a(H)),s(a(g))]),s(a(P))]),_:1})]),_:1})]),s(L,{placement:"bottom-start",trigger:"manual",size:"small",x:a(h).x,y:a(h).y,options:a(R),show:a(i).getRightMenuShow,"on-clickoutside":a(w),onSelect:a(A)},null,8,["x","y","options","show","on-clickoutside","onSelect"]),s(a(T))],64)}}});var ye=V(pe,[["__scopeId","data-v-ddb094b8"]]),Se=Object.freeze(Object.defineProperty({__proto__:null,default:ye},Symbol.toStringTag,{value:"Module"}));export{k as d,Se as i,de as u};
