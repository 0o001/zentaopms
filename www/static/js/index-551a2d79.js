var E=(e,t,a)=>new Promise((o,s)=>{var i=n=>{try{c(a.next(n))}catch(r){s(r)}},p=n=>{try{c(a.throw(n))}catch(r){s(r)}},c=n=>n.done?o(n.value):Promise.resolve(n.value).then(i,p);c((a=a.apply(e,t)).next())});import{M as F}from"./index-939593bb.js";import{_ as K}from"./index-26511b77.js";import{u as k,E as b}from"./chartEditStore-043dcc59.js";import{u as T,a as x}from"./chartLayoutStore-44dbd96d.js";import{ce as $,cf as w,cg as I,ch as R,a as M,ci as N,cj as G,ck as P,cl as U,j as H,d as V,v as z,a5 as Y,R as J,am as q,r as O,o as g,m as h,z as d,F as Q,A as W,e as l,f as _,w as m,p as S,t as D,ad as X,cm as Z,c1 as j}from"./index.js";import{a as tt,b as et,l as at}from"./plugin-f5226ec4.js";import{c as f}from"./index-4e01e2e9.js";import{f as L,b as A,c as nt}from"./index-167b58f5.js";import"./icon-ce1cfc0f.js";import"./index-4bf35c4c.js";import"./index-695ddc2d.js";import"./index-b6ff2ace.js";import"./tables_list-b8a2612d.js";import"./SizeSetting.vue_vue_type_style_index_0_scoped_true_lang-6f7723ea.js";import"./useTargetData.hook-4229c89e.js";function st(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var rt=st;function ot(e,t,a){var o=-1,s=e.length;t<0&&(t=-t>s?0:s+t),a=a>s?s:a,a<0&&(a+=s),s=t>a?0:a-t>>>0,t>>>=0;for(var i=Array(s);++o<s;)i[o]=e[o+t];return i}var it=ot,lt=$,ct=it;function ut(e,t){return t.length<2?e:lt(e,ct(t,0,-1))}var dt=ut,_t=w,mt=rt,ft=dt,pt=I;function gt(e,t){return t=_t(t,e),e=ft(e,t),e==null||delete e[pt(mt(t))]}var ht=gt,vt=R;function Ct(e){return vt(e)?void 0:e}var yt=Ct,Et=M,bt=U,xt=ht,Ot=w,St=N,Dt=yt,Lt=G,At=P,wt=1,Bt=2,Ft=4,Kt=Lt(function(e,t){var a={};if(e==null)return a;var o=!1;t=Et(t,function(i){return i=Ot(i,e),o||(o=i.length>1),i}),St(e,At(e),a),o&&(a=bt(a,wt|Bt|Ft,Dt));for(var s=t.length;s--;)xt(a,t[s]);return a}),kt=Kt;const Tt={class:"go-content-charts-item-animation-patch"},$t=["onDragstart","onDblclick"],It={class:"list-header"},Rt={class:"list-center go-flex-center go-transition"},Mt={class:"list-bottom"},Nt=V({__name:"index",props:{menuOptions:{type:Array,default:()=>[]}},setup(e){const t=k(),a=T(),o=z(),s=Y(()=>a.getChartType),i=(n,r)=>{f(r.chartKey,L(r)),f(r.conKey,A(r)),n.dataTransfer.setData(Z.DRAG_KEY,j(kt(r,["image"]))),t.setEditCanvas(b.IS_CREATE,!0)},p=()=>{t.setEditCanvas(b.IS_CREATE,!1)},c=n=>E(this,null,function*(){try{tt(),f(n.chartKey,L(n)),f(n.conKey,A(n));let r=yield nt(n);t.addComponentList(r,!1,!0),t.setTargetSelectChart(r.id),et()}catch(r){at(),window.$message.warning("\u56FE\u8868\u6B63\u5728\u7814\u53D1\u4E2D, \u656C\u8BF7\u671F\u5F85...")}});return J(()=>s.value,n=>{n===x.DOUBLE&&q(()=>{o.value.classList.add("miniAnimation")})}),(n,r)=>{const v=O("n-ellipsis"),C=O("n-text");return g(),h("div",Tt,[d("div",{ref_key:"contentChartsItemBoxRef",ref:o,class:X(["go-content-charts-item-box",[_(s)===_(x).DOUBLE?"double":"single"]])},[(g(!0),h(Q,null,W(e.menuOptions,(u,B)=>(g(),h("div",{class:"item-box",key:B,draggable:"",onDragstart:y=>i(y,u),onDragend:p,onDblclick:y=>c(u)},[d("div",It,[l(_(F),{class:"list-header-control-btn",mini:!0,disabled:!0}),l(C,{class:"list-header-text",depth:"3"},{default:m(()=>[l(v,null,{default:m(()=>[S(D(u.title),1)]),_:2},1024)]),_:2},1024)]),d("div",Rt,[l(_(K),{class:"list-img",chartConfig:u},null,8,["chartConfig"])]),d("div",Mt,[l(C,{class:"list-bottom-text",depth:"3"},{default:m(()=>[l(v,{style:{"max-width":"90%"}},{default:m(()=>[S(D(u.title),1)]),_:2},1024)]),_:2},1024)])],40,$t))),128))],2)])}}});var ae=H(Nt,[["__scopeId","data-v-3bb6960e"]]);export{ae as default};
