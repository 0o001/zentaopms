var P=(n,d,l)=>new Promise((v,f)=>{var e=p=>{try{y(l.next(p))}catch(c){f(c)}},m=p=>{try{y(l.throw(p))}catch(c){f(c)}},y=p=>p.done?v(p.value):Promise.resolve(p.value).then(e,m);y((l=l.apply(n,d)).next())});import{j as D,d as A,an as ye,a4 as Ce,a5 as be,y as Se,v as g,R as ne,r as i,o as C,m as S,X as x,Y as N,f as o,e as s,z as b,w as u,u as Oe,a3 as xe,ax as ke,a1 as I,cb as Ee,bT as se,cc as Ie,a6 as we,cd as Le,F as K,A as Y,p as q,t as X,ad as R,i as Te,G as Fe,H as Ne,c as J,c0 as Ae,aa as $e}from"./index.js";import{C as He}from"./index-4bf35c4c.js";import{l as Pe,c as Q}from"./index-4e01e2e9.js";import{a as Re,b as ze,l as Be}from"./plugin-f5226ec4.js";import{i as M}from"./icon-ce1cfc0f.js";import{p as De,a as Me,f as Ve,b as je,c as Ue}from"./index-167b58f5.js";import{u as V,C as z,a as W}from"./chartLayoutStore-44dbd96d.js";import{P as w,h as L,u as Ge}from"./chartEditStore-043dcc59.js";const Ke={class:"go-chart-common"},Ye={class:"chart-content-list"},qe=A({__name:"index",props:{selectOptions:{type:Object,default:()=>{}}},setup(n){const d=n,l=Pe(()=>ye(()=>import("./index-551a2d79.js"),["static/js/index-551a2d79.js","static/css/index-f25f4c30.css","static/js/index-939593bb.js","static/css/index-2ce6d63c.css","static/js/index.js","static/css/index-a1e82c00.css","static/js/icon-ce1cfc0f.js","static/js/chartEditStore-043dcc59.js","static/js/plugin-f5226ec4.js","static/js/chartLayoutStore-44dbd96d.js","static/js/index-4e01e2e9.js","static/css/index-8038d4fd.css","static/js/index-695ddc2d.js","static/js/index-b6ff2ace.js","static/css/index-39296e52.css","static/js/index-167b58f5.js","static/css/index-33650c0c.css","static/js/tables_list-b8a2612d.js","static/js/SizeSetting.vue_vue_type_style_index_0_scoped_true_lang-6f7723ea.js","static/css/SizeSetting.vue_vue_type_style_index_0_scoped_true_lang-417e6e2f.css","static/js/useTargetData.hook-4229c89e.js","static/js/index-4bf35c4c.js","static/css/index-a9cbbfc9.css"])),v=Ce(),f=be(()=>e.categorysNum>2?!0:!v.getHidePackageOneCategory);let e=Se({menuOptions:[],selectOptions:{},categorys:{all:[]},categoryNames:{all:"\u6240\u6709"},categorysNum:0,saveSelectOptions:{}});const m=g(),y=c=>{for(const a in c){e.selectOptions=c[a];break}};ne(()=>d.selectOptions,c=>{if(e.categorysNum=0,!!c){c.list.forEach(a=>{const h=e.categorys[a.category];e.categorys[a.category]=h&&h.length?[...h,a]:[a],e.categoryNames[a.category]=a.categoryName,e.categorys.all.push(a)});for(const a in e.categorys)e.categorysNum+=1,e.menuOptions.push({key:a,label:e.categoryNames[a]});y(e.categorys),m.value=e.menuOptions[0].key}},{immediate:!0});const p=c=>{e.selectOptions=e.categorys[c]};return(c,a)=>{const h=i("n-menu"),k=i("n-scrollbar");return C(),S("div",Ke,[x(s(h,{class:"chart-menu-width",value:m.value,"onUpdate:value":[a[0]||(a[0]=$=>m.value=$),p],options:o(e).menuOptions,"icon-size":16,indent:18},null,8,["value","options"]),[[N,o(f)]]),b("div",Ye,[s(k,null,{default:u(()=>[s(o(l),{menuOptions:o(e).selectOptions},null,8,["menuOptions"])]),_:1})])])}}});var Xe=D(qe,[["__scopeId","data-v-bc95cfe4"]]);const Je=Oe(),ae=g(Je.getAppTheme),{setItem:Z}=V(),{getCharts:B}=xe(V()),Qe=ke({id:"usePackagesStore",state:()=>({packagesList:Object.freeze(De)}),getters:{getPackagesList(){return this.packagesList}}}),{BarChartIcon:We}=M.ionicons5,{TableSplitIcon:Ze,RoadmapIcon:et,SpellCheckIcon:tt,GraphicalDataFlowIcon:ot}=M.carbon,{getPackagesList:ee}=Qe(),O=[],te={[w.CHARTS]:{icon:I(et),label:L.CHARTS},[w.INFORMATIONS]:{icon:I(tt),label:L.INFORMATIONS},[w.TABLES]:{icon:I(Ze),label:L.TABLES},[w.DECORATES]:{icon:I(ot),label:L.DECORATES}},nt=()=>{for(const n in ee)O.push({key:n,icon:te[n].icon,label:te[n].label,list:ee[n]})};nt();let oe=O[0].key;const T=g(O[0].key),F=g(O[0]),st=(n,d)=>{F.value=d,oe===n?Z(z.CHARTS,!B.value):Z(z.CHARTS,!0),oe=n},at={class:"list-img",alt:"\u56FE\u8868\u56FE\u7247"},ct=A({__name:"index",props:{chartConfig:{type:Object,required:!0}},setup(n){const d=n,l=g(""),v=()=>P(this,null,function*(){l.value=yield Me(d.chartConfig)});return ne(()=>d.chartConfig.key,()=>v(),{immediate:!0}),(f,e)=>{const m=Ee("lazy");return x((C(),S("img",at,null,512)),[[m,l.value]])}}});const lt=n=>(Fe("data-v-49e188f4"),n=n(),Ne(),n),rt={class:"go-chart-search-box"},it={class:"search-list-box"},ut=["title","onClick"],pt=lt(()=>b("div",{class:"popover-modal"},null,-1)),_t=A({__name:"index",props:{menuOptions:{type:Array,default:()=>[]}},setup(n){const d=n;se(t=>({c8e4a0e2:o(ae)}));const l=Ge(),v=V(),{SearchIcon:f,AlbumsIcon:e,GridIcon:m}=M.ionicons5,y=g(!1),p=g(!1),c=g(void 0),a=g(null),h=g([]),k=g(v.getChartType),$=[{label:"\u5355\u5217",icon:e,value:W.SINGLE},{label:"\u53CC\u5217",icon:m,value:W.DOUBLE}],ce=(t=>{const r=[];for(const E of t)r.push(...E.list);return r})(d.menuOptions),H=()=>{c.value=void 0,p.value=!1,a.value=null,h.value=[]},le=t=>{if(!Te(t)||!t.length){H();return}c.value=!0,p.value=!0,h.value=ce.filter(r=>!t||r.title.toLowerCase().includes(t.toLowerCase())),setTimeout(()=>{c.value=void 0},500)},j=t=>{!p.value||!t.target||t.target.closest(".go-chart-search")||H()},re=t=>P(this,null,function*(){try{Re(),Q(t.chartKey,Ve(t)),Q(t.conKey,je(t));let r=yield Ue(t);l.addComponentList(r,!1,!0),l.setTargetSelectChart(r.id),H(),ze()}catch(r){Be(),window.$message.warning("\u56FE\u8868\u6B63\u5728\u7814\u53D1\u4E2D, \u656C\u8BF7\u671F\u5F85...")}}),U=t=>{y.value=t},ie=t=>{k.value=t,v.setItem(z.Chart_TYPE,t)};return Ie(document,"click",t=>{j(t)}),we(()=>{Le(document,"click",j)}),(t,r)=>{const E=i("n-icon"),ue=i("n-input"),pe=i("n-input-group"),_e=i("n-empty"),de=i("n-text"),me=i("n-scrollbar"),ge=i("n-popover"),ve=i("n-tooltip"),he=i("n-button"),fe=i("n-button-group");return C(),S("div",rt,[b("div",{class:R(["chart-search go-transition",{"chart-search-focus":y.value}])},[s(ge,{class:"chart-search-popover","show-arrow":!1,show:p.value,to:!1,trigger:"hover",placement:"bottom-start"},{trigger:u(()=>[s(pe,null,{default:u(()=>[s(ue,{size:"small",placeholder:"\u641C\u7D22\u7EC4\u4EF6",value:a.value,"onUpdate:value":[r[0]||(r[0]=_=>a.value=_),le],valueModifiers:{trim:!0},loading:c.value,onFocus:r[1]||(r[1]=_=>U(!0)),onBlur:r[2]||(r[2]=_=>U(!1))},{suffix:u(()=>[x(s(E,{component:o(f)},null,8,["component"]),[[N,!c.value]])]),_:1},8,["value","loading"])]),_:1})]),default:u(()=>[b("div",it,[s(me,{style:{"max-height":"500px"}},{default:u(()=>[x(s(_e,{size:"small",description:"\u6CA1\u6709\u627E\u5230\u7EC4\u4EF6~"},null,512),[[N,!h.value.length]]),(C(!0),S(K,null,Y(h.value,_=>(C(),S("div",{class:"list-item go-flex-items-center go-ellipsis-1",key:_.key,title:_.title,onClick:G=>re(_)},[s(o(ct),{class:"list-item-img",chartConfig:_},null,8,["chartConfig"]),s(de,{class:"list-item-fs",depth:"2"},{default:u(()=>[q(X(_.title),1)]),_:2},1024)],8,ut))),128))]),_:1}),pt])]),_:1},8,["show"])],2),s(fe,{class:R(["btn-group go-transition",{"btn-group-focus":y.value}]),style:{display:"flex"}},{default:u(()=>[(C(),S(K,null,Y($,(_,G)=>s(he,{ghost:"",size:"small",key:G,type:k.value===_.value?"primary":"tertiary",onClick:yt=>ie(_.value)},{default:u(()=>[s(ve,{"show-arrow":!1,trigger:"hover"},{trigger:u(()=>[s(E,{size:"14",component:_.icon},null,8,["component"])]),default:u(()=>[q(" "+X(_.label),1)]),_:2},1024)]),_:2},1032,["type","onClick"])),64))]),_:1},8,["class"])])}}});var dt=D(_t,[["__scopeId","data-v-49e188f4"]]);const mt={class:"menu-width-box"},gt={class:"menu-component-box"},vt=A({__name:"index",setup(n){return se(d=>({"21c50fc5":o(ae)})),(d,l)=>{const v=i("n-icon"),f=i("n-menu"),e=i("go-skeleton");return C(),J(o(He),{class:R(["go-content-charts",{scoped:!o(B)}]),title:"\u7EC4\u4EF6",depth:1,backIcon:!1},{icon:u(()=>[s(v,{size:"14",depth:2},{default:u(()=>[s(o(We))]),_:1})]),"top-right":u(()=>[x(s(o(dt),{menuOptions:o(O)},null,8,["menuOptions"]),[[N,o(B)]])]),default:u(()=>[b("aside",null,[b("div",mt,[s(f,{class:"menu-width",value:o(T),"onUpdate:value":[l[0]||(l[0]=m=>Ae(T)?T.value=m:null),o(st)],options:o(O),"icon-size":16,indent:18},null,8,["value","options","onUpdate:value"]),b("div",gt,[s(e,{load:!o(F),round:"",text:"",repeat:2,style:{width:"90%"}},null,8,["load"]),o(F)?(C(),J(o(Xe),{selectOptions:o(F),key:o(T)},null,8,["selectOptions"])):$e("",!0)])])])]),_:1},8,["class"])}}});var ht=D(vt,[["__scopeId","data-v-b66dbfc2"]]),Lt=Object.freeze(Object.defineProperty({__proto__:null,default:ht},Symbol.toStringTag,{value:"Module"}));export{ct as _,Lt as i};
