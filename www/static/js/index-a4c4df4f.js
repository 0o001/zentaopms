var H=(n,d,l)=>new Promise((v,f)=>{var e=p=>{try{C(l.next(p))}catch(c){f(c)}},m=p=>{try{C(l.throw(p))}catch(c){f(c)}},C=p=>p.done?v(p.value):Promise.resolve(p.value).then(e,m);C((l=l.apply(n,d)).next())});import{c as D,d as A,O as Ce,ac as ye,R as be,p as Se,l as g,N as ne,r as i,o as y,e as S,a5 as k,a6 as N,u as o,g as s,q as b,w as u,m as Oe,Q as ke,aF as xe,aa as I,cm as Ee,b_ as se,cn as Ie,ad as we,co as Le,F as q,s as K,h as Q,t as Y,ao as R,i as Fe,z as Te,A as Ne,G as J,c7 as Ae,U as $e}from"./index-ed17d07a.js";import{C as Pe}from"./index-2b34b930.js";import{l as He,c as W}from"./index-74a6a17b.js";import{a as Re,b as ze,l as Be}from"./plugin-15ab4596.js";import{i as M}from"./icon-c5f6d281.js";import{p as De,a as Me,f as Ue,b as Ve,c as je}from"./index-6be04ae3.js";import{u as U,C as z,a as X}from"./chartLayoutStore-da26a299.js";import{P as w,h as L,u as Ge}from"./chartEditStore-066de5d6.js";const qe={class:"go-chart-common"},Ke={class:"chart-content-list"},Qe=A({__name:"index",props:{selectOptions:{type:Object,default:()=>{}}},setup(n){const d=n,l=He(()=>Ce(()=>import("./index-248d532e.js"),["static/js/index-248d532e.js","static/css/index-edd8c06a.css","static/js/index-10cc065c.js","static/css/index-1fb675e6.css","static/js/index-ed17d07a.js","static/css/index-bd4452ef.css","static/js/icon-c5f6d281.js","static/js/chartEditStore-066de5d6.js","static/js/plugin-15ab4596.js","static/js/chartLayoutStore-da26a299.js","static/js/index-74a6a17b.js","static/css/index-eea2fa9f.css","static/js/theme-color-42133380.js","static/js/index-6be04ae3.js","static/css/index-e7a8bf20.css","static/js/table_scrollboard-3d700369.js","static/js/GlobalSetting.vue_vue_type_style_index_0_scoped_true_lang-e23277d4.js","static/css/GlobalSetting.vue_vue_type_style_index_0_scoped_true_lang-42634a6e.css","static/js/useTargetData.hook-796669c2.js","static/js/index-2b34b930.js","static/css/index-564a38cf.css"])),v=ye(),f=be(()=>e.categorysNum>2?!0:!v.getHidePackageOneCategory);let e=Se({menuOptions:[],selectOptions:{},categorys:{all:[]},categoryNames:{all:"\u6240\u6709"},categorysNum:0,saveSelectOptions:{}});const m=g(),C=c=>{for(const a in c){e.selectOptions=c[a];break}};ne(()=>d.selectOptions,c=>{if(e.categorysNum=0,!!c){c.list.forEach(a=>{const h=e.categorys[a.category];e.categorys[a.category]=h&&h.length?[...h,a]:[a],e.categoryNames[a.category]=a.categoryName,e.categorys.all.push(a)});for(const a in e.categorys)e.categorysNum+=1,e.menuOptions.push({key:a,label:e.categoryNames[a]});C(e.categorys),m.value=e.menuOptions[0].key}},{immediate:!0});const p=c=>{e.selectOptions=e.categorys[c]};return(c,a)=>{const h=i("n-menu"),x=i("n-scrollbar");return y(),S("div",qe,[k(s(h,{class:"chart-menu-width",value:m.value,"onUpdate:value":[a[0]||(a[0]=$=>m.value=$),p],options:o(e).menuOptions,"icon-size":16,indent:18},null,8,["value","options"]),[[N,o(f)]]),b("div",Ke,[s(x,null,{default:u(()=>[s(o(l),{menuOptions:o(e).selectOptions},null,8,["menuOptions"])]),_:1})])])}}});var Ye=D(Qe,[["__scopeId","data-v-02fbd701"]]);const Je=Oe(),ae=g(Je.getAppTheme),{setItem:Z}=U(),{getCharts:B}=ke(U()),We=xe({id:"usePackagesStore",state:()=>({packagesList:Object.freeze(De)}),getters:{getPackagesList(){return this.packagesList}}}),{BarChartIcon:Xe}=M.ionicons5,{TableSplitIcon:Ze,RoadmapIcon:et,SpellCheckIcon:tt,GraphicalDataFlowIcon:ot}=M.carbon,{getPackagesList:ee}=We(),O=[],te={[w.CHARTS]:{icon:I(et),label:L.CHARTS},[w.INFORMATIONS]:{icon:I(tt),label:L.INFORMATIONS},[w.TABLES]:{icon:I(Ze),label:L.TABLES},[w.DECORATES]:{icon:I(ot),label:L.DECORATES}},nt=()=>{for(const n in ee)O.push({key:n,icon:te[n].icon,label:te[n].label,list:ee[n]})};nt();let oe=O[0].key;const F=g(O[0].key),T=g(O[0]),st=(n,d)=>{T.value=d,oe===n?Z(z.CHARTS,!B.value):Z(z.CHARTS,!0),oe=n},at={class:"list-img",alt:"\u56FE\u8868\u56FE\u7247"},ct=A({__name:"index",props:{chartConfig:{type:Object,required:!0}},setup(n){const d=n,l=g(""),v=()=>H(this,null,function*(){l.value=yield Me(d.chartConfig)});return ne(()=>d.chartConfig.key,()=>v(),{immediate:!0}),(f,e)=>{const m=Ee("lazy");return k((y(),S("img",at,null,512)),[[m,l.value]])}}});const lt=n=>(Te("data-v-4ac17104"),n=n(),Ne(),n),rt={class:"go-chart-search-box"},it={class:"search-list-box"},ut=["title","onClick"],pt=lt(()=>b("div",{class:"popover-modal"},null,-1)),_t=A({__name:"index",props:{menuOptions:{type:Array,default:()=>[]}},setup(n){const d=n;se(t=>({"6c08cac9":o(ae)}));const l=Ge(),v=U(),{SearchIcon:f,AlbumsIcon:e,GridIcon:m}=M.ionicons5,C=g(!1),p=g(!1),c=g(void 0),a=g(null),h=g([]),x=g(v.getChartType),$=[{label:"\u5355\u5217",icon:e,value:X.SINGLE},{label:"\u53CC\u5217",icon:m,value:X.DOUBLE}],ce=(t=>{const r=[];for(const E of t)r.push(...E.list);return r})(d.menuOptions),P=()=>{c.value=void 0,p.value=!1,a.value=null,h.value=[]},le=t=>{if(!Fe(t)||!t.length){P();return}c.value=!0,p.value=!0,h.value=ce.filter(r=>!t||r.title.toLowerCase().includes(t.toLowerCase())),setTimeout(()=>{c.value=void 0},500)},V=t=>{!p.value||!t.target||t.target.closest(".go-chart-search")||P()},re=t=>H(this,null,function*(){try{Re(),W(t.chartKey,Ue(t)),W(t.conKey,Ve(t));let r=yield je(t);l.addComponentList(r,!1,!0),l.setTargetSelectChart(r.id),P(),ze()}catch(r){Be(),window.$message.warning("\u56FE\u8868\u6B63\u5728\u7814\u53D1\u4E2D, \u656C\u8BF7\u671F\u5F85...")}}),j=t=>{C.value=t},ie=t=>{x.value=t,v.setItem(z.Chart_TYPE,t)};return Ie(document,"click",t=>{V(t)}),we(()=>{Le(document,"click",V)}),(t,r)=>{const E=i("n-icon"),ue=i("n-input"),pe=i("n-input-group"),_e=i("n-empty"),de=i("n-text"),me=i("n-scrollbar"),ge=i("n-popover"),ve=i("n-tooltip"),he=i("n-button"),fe=i("n-button-group");return y(),S("div",rt,[b("div",{class:R(["chart-search go-transition",{"chart-search-focus":C.value}])},[s(ge,{class:"chart-search-popover","show-arrow":!1,show:p.value,to:!1,trigger:"hover",placement:"bottom-start"},{trigger:u(()=>[s(pe,null,{default:u(()=>[s(ue,{size:"small",placeholder:"\u641C\u7D22\u7EC4\u4EF6",value:a.value,"onUpdate:value":[r[0]||(r[0]=_=>a.value=_),le],valueModifiers:{trim:!0},loading:c.value,onFocus:r[1]||(r[1]=_=>j(!0)),onBlur:r[2]||(r[2]=_=>j(!1))},{suffix:u(()=>[k(s(E,{component:o(f)},null,8,["component"]),[[N,!c.value]])]),_:1},8,["value","loading"])]),_:1})]),default:u(()=>[b("div",it,[s(me,{style:{"max-height":"500px"}},{default:u(()=>[k(s(_e,{size:"small",description:"\u6CA1\u6709\u627E\u5230\u7EC4\u4EF6~"},null,512),[[N,!h.value.length]]),(y(!0),S(q,null,K(h.value,_=>(y(),S("div",{class:"list-item go-flex-items-center go-ellipsis-1",key:_.key,title:_.title,onClick:G=>re(_)},[s(o(ct),{class:"list-item-img",chartConfig:_},null,8,["chartConfig"]),s(de,{class:"list-item-fs",depth:"2"},{default:u(()=>[Q(Y(_.title),1)]),_:2},1024)],8,ut))),128))]),_:1}),pt])]),_:1},8,["show"])],2),s(fe,{class:R(["btn-group go-transition",{"btn-group-focus":C.value}]),style:{display:"flex"}},{default:u(()=>[(y(),S(q,null,K($,(_,G)=>s(he,{ghost:"",size:"small",key:G,type:x.value===_.value?"primary":"tertiary",onClick:Ct=>ie(_.value)},{default:u(()=>[s(ve,{"show-arrow":!1,trigger:"hover"},{trigger:u(()=>[s(E,{size:"14",component:_.icon},null,8,["component"])]),default:u(()=>[Q(" "+Y(_.label),1)]),_:2},1024)]),_:2},1032,["type","onClick"])),64))]),_:1},8,["class"])])}}});var dt=D(_t,[["__scopeId","data-v-4ac17104"]]);const mt={class:"menu-width-box"},gt={class:"menu-component-box"},vt=A({__name:"index",setup(n){return se(d=>({"73ce7194":o(ae)})),(d,l)=>{const v=i("n-icon"),f=i("n-menu"),e=i("go-skeleton");return y(),J(o(Pe),{class:R(["go-content-charts",{scoped:!o(B)}]),title:"\u7EC4\u4EF6",depth:1,backIcon:!1},{icon:u(()=>[s(v,{size:"14",depth:2},{default:u(()=>[s(o(Xe))]),_:1})]),"top-right":u(()=>[k(s(o(dt),{menuOptions:o(O)},null,8,["menuOptions"]),[[N,o(B)]])]),default:u(()=>[b("aside",null,[b("div",mt,[s(f,{class:"menu-width",value:o(F),"onUpdate:value":[l[0]||(l[0]=m=>Ae(F)?F.value=m:null),o(st)],options:o(O),"icon-size":16,indent:18},null,8,["value","options","onUpdate:value"]),b("div",gt,[s(e,{load:!o(T),round:"",text:"",repeat:2,style:{width:"90%"}},null,8,["load"]),o(T)?(y(),J(o(Ye),{selectOptions:o(T),key:o(F)},null,8,["selectOptions"])):$e("",!0)])])])]),_:1},8,["class"])}}});var ht=D(vt,[["__scopeId","data-v-e9ccee3c"]]),Lt=Object.freeze(Object.defineProperty({__proto__:null,default:ht},Symbol.toStringTag,{value:"Module"}));export{ct as _,Lt as i};
