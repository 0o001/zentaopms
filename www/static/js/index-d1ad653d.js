var H=(e,t,a)=>new Promise((c,o)=>{var u=v=>{try{h(a.next(v))}catch(f){o(f)}},_=v=>{try{h(a.throw(v))}catch(f){o(f)}},h=v=>v.done?c(v.value):Promise.resolve(v.value).then(u,_);h((a=a.apply(e,t)).next())});import{d as F,v as b,R as Q,ca as re,X as ie,o as l,m as d,cb as ue,cc as _e,cd as X,ce as pe,a as de,cf as me,cg as ve,ch as ge,ci as fe,j as Z,an as ye,y as he,r as S,e as y,f as s,bZ as W,z as m,F as T,A as P,t as E,ab as C,w as x,D as Ce,E as be,cj as ke,b$ as Oe,u as Se,a3 as Ee,aA as Ie,a1 as A,bQ as De,c as L,ad as xe,L as Ae}from"./index.js";import{C as Le}from"./index-f38e7d88.js";import{a as Ne,f as we,b as Te,p as Pe}from"./index-24d6a86a.js";import{u as Re,E as M,P as N,i as w}from"./chartEditStore-95004863.js";import{i as ee}from"./icon-a38117ae.js";import{l as $e,c as j}from"./index-75f04aa7.js";import{u as te}from"./chartLayoutStore-48652640.js";const ze={class:"list-img",alt:"\u56FE\u8868\u56FE\u7247"},Y=F({__name:"index",props:{chartConfig:{type:Object,required:!0}},setup(e){const t=e,a=b(""),c=()=>H(this,null,function*(){a.value=yield Ne(t.chartConfig)});return Q(()=>t.chartConfig.key,()=>c(),{immediate:!0}),(o,u)=>{const _=re("lazy");return ie((l(),d("img",ze,null,512)),[[_,a.value]])}}});function Fe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var Be=Fe;function Ue(e,t,a){var c=-1,o=e.length;t<0&&(t=-t>o?0:o+t),a=a>o?o:a,a<0&&(a+=o),o=t>a?0:a-t>>>0,t>>>=0;for(var u=Array(o);++c<o;)u[c]=e[c+t];return u}var Ke=Ue,Ge=ue,Ve=Ke;function He(e,t){return t.length<2?e:Ge(e,Ve(t,0,-1))}var Me=He,je=X,Ye=Be,qe=Me,Je=_e;function Qe(e,t){return t=je(t,e),e=qe(e,t),e==null||delete e[Je(Ye(t))]}var Xe=Qe,Ze=pe;function We(e){return Ze(e)?void 0:e}var et=We,tt=de,at=fe,nt=Xe,st=X,ot=me,lt=et,ct=ve,rt=ge,it=1,ut=2,_t=4,pt=ct(function(e,t){var a={};if(e==null)return a;var c=!1;t=tt(t,function(u){return u=st(u,e),c||(c=u.length>1),u}),ot(e,rt(e),a),c&&(a=at(a,it|ut|_t,lt));for(var o=t.length;o--;)nt(a,t[o]);return a}),dt=pt;const mt=e=>(Ce("data-v-44a61eba"),e=e(),be(),e),vt={class:"go-chart-common"},gt={key:0,class:"charts"},ft={class:"tree-top"},yt=mt(()=>m("span",null,"\u6240\u6709\u5206\u7EC4",-1)),ht={class:"chapter chapter-first"},Ct={class:"label-count"},bt=["onDragstart"],kt={key:1,class:"chapter chapter-last"},Ot=["onDragstart"],St={key:1,class:"no-charts"},Et={class:"chart-content-list"},It=F({__name:"index",props:{selectOptions:{type:Object,default:()=>{}},menu:{type:String,default:()=>{}}},setup(e){var V;const t=e,a=$e(()=>ye(()=>import("./index-c104a185.js"),["static/js/index-c104a185.js","static/css/index-edd8c06a.css","static/js/index-3c3581a6.js","static/css/index-1fb675e6.css","static/js/index.js","static/css/index-0098e772.css","static/js/icon-a38117ae.js","static/js/chartEditStore-95004863.js","static/js/plugin-453261aa.js","static/js/chartLayoutStore-48652640.js","static/js/index-75f04aa7.js","static/css/index-3cd64027.css","static/js/index-6c2ed8fd.js","static/js/index-52b31aff.js","static/css/index-c496491e.css","static/js/index-24d6a86a.js","static/css/index-e7a8bf20.css","static/js/table_scrollboard-3d700369.js","static/js/SizeSetting.vue_vue_type_style_index_0_scoped_true_lang-43eb38c2.js","static/css/SizeSetting.vue_vue_type_style_index_0_scoped_true_lang-a753658f.css","static/js/useTargetData.hook-8a10b55a.js","static/js/index-f38e7d88.js","static/css/index-d494d603.css"])),{ChevronUpOutlineIcon:c,ChevronDownOutlineIcon:o}=ee.ionicons5,u=[{label:"\u6548\u80FD",value:"efficiency"},{label:"\u8D28\u91CF",value:"mass"},{label:"\u6D4B\u8BD5",value:"test"}];let _=b(u[0].value);const h=(V=window.treeData)!=null?V:[],v=b(!1),f=b([]),ae=()=>{v.value=!v.value;for(const r in h){f.value[h[r].id]=v.value;for(const n in h[r].child)f.value[h[r].child[n].id]=v.value}},B=r=>{f.value[r]=!f.value[r]};let i=he({menuOptions:[],selectOptions:{},categorys:{all:[]},categoryNames:{all:"\u6240\u6709"},categorysNum:0,saveSelectOptions:{}});const R=b(),ne=r=>{for(const n in r){i.selectOptions=r[n];break}};Q(()=>t.selectOptions,r=>{if(i.categorysNum=0,!!r){r.list.forEach(n=>{const I=i.categorys[n.category];i.categorys[n.category]=I&&I.length?[...I,n]:[n],i.categoryNames[n.category]=n.categoryName,i.categorys.all.push(n)});for(const n in i.categorys)i.categorysNum+=1,i.menuOptions.push({key:n,label:i.categoryNames[n]});ne(i.categorys),R.value=i.menuOptions[0].key}},{immediate:!0});const se=r=>{i.selectOptions=i.categorys[r]},U=Re(),K=(r,n)=>{j(n.chartKey,we(n)),j(n.conKey,Te(n)),r.dataTransfer.setData(ke.DRAG_KEY,Oe(dt(n,["image"]))),U.setEditCanvas(M.IS_CREATE,!0)},G=()=>{U.setEditCanvas(M.IS_CREATE,!1)};return(r,n)=>{const I=S("n-select"),$=S("n-icon"),oe=S("n-menu"),le=S("n-scrollbar");return l(),d("div",vt,[e.menu=="Charts"?(l(),d("div",gt,[y(I,{class:"dimension-btn",value:s(_),"onUpdate:value":n[0]||(n[0]=g=>W(_)?_.value=g:_=g),options:u},null,8,["value"]),m("div",ft,[yt,y($,{size:"16",component:v.value?s(c):s(o),onClick:ae},null,8,["component"])]),(l(!0),d(T,null,P(s(h),(g,Gt)=>(l(),d("div",{class:"tree-body",key:g.id},[m("div",null,[m("div",ht,[y($,{size:"16",component:f.value[g.id]?s(c):s(o),onClick:p=>B(g.id)},null,8,["component","onClick"]),m("label",null,E(g.title),1),m("label",Ct,E(g.count),1)]),g.child&&f.value[g.id]?(l(!0),d(T,{key:0},P(g.child,p=>(l(),d("div",{class:"tree-child",key:p.id},[p.type!="chapter"?(l(),d("div",{key:0,class:"item-box",draggable:"",onDragstart:O=>K(O,p.chartConfig),onDragend:G},[y(s(Y),{class:"list-img",chartConfig:p.chartConfig},null,8,["chartConfig"]),m("span",null,E(p.title),1)],40,bt)):C("",!0),p.type=="chapter"?(l(),d("div",kt,[y($,{size:"16",component:f.value[p.id]?s(c):s(o),onClick:O=>B(p.id)},null,8,["component","onClick"]),m("label",null,E(p.title),1)])):C("",!0),p.child&&f.value[p.id]?(l(!0),d(T,{key:2},P(p.child,O=>(l(),d("div",{class:"tree-child",key:p.id},[O.type!="chapter"?(l(),d("div",{key:0,class:"item-box",draggable:"",onDragstart:ce=>K(ce,O.chartConfig),onDragend:G},[y(s(Y),{class:"list-img",chartConfig:O.chartConfig},null,8,["chartConfig"]),m("span",null,E(O.title),1)],40,Ot)):C("",!0)]))),128)):C("",!0)]))),128)):C("",!0)])]))),128))])):C("",!0),e.menu!="Charts"?(l(),d("div",St,[y(oe,{class:"chart-menu-width",value:R.value,"onUpdate:value":[n[1]||(n[1]=g=>R.value=g),se],options:s(i).menuOptions,"icon-size":16,indent:18},null,8,["value","options"]),m("div",Et,[y(le,null,{default:x(()=>[y(s(a),{menuOptions:s(i).selectOptions},null,8,["menuOptions"])]),_:1})])])):C("",!0)])}}});var Dt=Z(It,[["__scopeId","data-v-44a61eba"]]);const xt=Se(),At=b(xt.getAppTheme);te();const{getCharts:Lt}=Ee(te()),Nt=Ie({id:"usePackagesStore",state:()=>({packagesList:Object.freeze(Pe)}),getters:{getPackagesList(){return this.packagesList}}}),{TableSplitIcon:wt,RoadmapIcon:Tt,SpellCheckIcon:Pt,GraphicalDataFlowIcon:Rt}=ee.carbon,{getPackagesList:q}=Nt(),k=[],J={[N.CHARTS]:{icon:A(Tt),label:w.CHARTS},[N.INFORMATIONS]:{icon:A(Pt),label:w.INFORMATIONS},[N.TABLES]:{icon:A(wt),label:w.TABLES},[N.DECORATES]:{icon:A(Rt),label:w.DECORATES}},$t=()=>{for(const e in q)k.push({key:e,icon:J[e].icon,label:J[e].label,list:q[e]})};$t();k[0].key;const D=b(k[0].key),z=b(k[0]),zt=e=>{for(const t in k)k[t].key==e&&(z.value=k[t])};const Ft={class:"menu-width-box"},Bt={class:"menu-component-box"},Ut=F({__name:"index",setup(e){return De(t=>({"5deb1ea8":s(At)})),(t,a)=>{const c=S("n-icon"),o=S("n-tab-pane"),u=S("n-tabs");return l(),L(s(Le),{class:xe(["go-content-charts",{scoped:!s(Lt)}]),backIcon:!1},{default:x(()=>[m("aside",null,[m("div",Ft,[y(u,{value:s(D),"onUpdate:value":[a[0]||(a[0]=_=>W(D)?D.value=_:null),s(zt)],class:"tabs-box",size:"small",type:"segment"},{default:x(()=>[(l(!0),d(T,null,P(s(k),_=>(l(),L(o,{key:_.key,name:_.key,size:"small","display-directive":"show:lazy"},{tab:x(()=>[m("span",null,E(_.label),1),y(c,{size:"16",class:"icon-position"},{default:x(()=>[(l(),L(Ae(_.icon)))]),_:2},1024)]),_:2},1032,["name"]))),128))]),_:1},8,["value","onUpdate:value"]),m("div",Bt,[s(z)?(l(),L(s(Dt),{selectOptions:s(z),menu:s(D),key:s(D)},null,8,["selectOptions","menu"])):C("",!0)])])])]),_:1},8,["class"])}}});var Kt=Z(Ut,[["__scopeId","data-v-2901031b"]]),Xt=Object.freeze(Object.defineProperty({__proto__:null,default:Kt},Symbol.toStringTag,{value:"Module"}));export{Y as _,Xt as i,dt as o};
